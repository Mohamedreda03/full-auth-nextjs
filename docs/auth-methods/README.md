# 🔐 Authentication Methods Overview

نظرة عامة على جميع طرق المصادقة المتاحة في التطبيق.

---

## 📚 الطرق المتاحة

### 1. [Email & Password](./EMAIL_PASSWORD.md)

**الحالة**: ✅ مُفعّل افتراضياً

الطريقة التقليدية للمصادقة باستخدام البريد الإلكتروني وكلمة المرور.

**المميزات**:

- ✅ بسيطة ومألوفة
- ✅ لا تحتاج خدمات خارجية (للتسجيل الأساسي)
- ✅ تعمل بدون اتصال بالإنترنت (بعد التسجيل)

**المتطلبات**:

- قاعدة بيانات PostgreSQL
- Resend API (للـ email verification فقط)

---

### 2. [Google OAuth](./GOOGLE_OAUTH.md)

**الحالة**: ✅ مُفعّل افتراضياً

تسجيل دخول بنقرة واحدة باستخدام حساب Google.

**المميزات**:

- ✅ تجربة مستخدم سريعة
- ✅ لا حاجة لإدارة كلمات مرور
- ✅ موثوق وآمن

**المتطلبات**:

- قاعدة بيانات PostgreSQL
- Google Cloud credentials

---

### 3. [Magic Link](./MAGIC_LINK.md)

**الحالة**: ⚠️ يحتاج Resend API

تسجيل دخول بدون كلمة مرور عبر رابط يُرسل للبريد الإلكتروني.

**المميزات**:

- ✅ لا حاجة لتذكر كلمة مرور
- ✅ آمن وسهل الاستخدام
- ✅ مثالي للتطبيقات التي تُستخدم نادراً

**المتطلبات**:

- قاعدة بيانات PostgreSQL
- Resend API key

---

### 4. [Email OTP](./EMAIL_OTP.md)

**الحالة**: ⚠️ يحتاج Resend API

تسجيل دخول باستخدام رمز لمرة واحدة (6 أرقام) يُرسل للبريد.

**المميزات**:

- ✅ أمان عالي
- ✅ تجربة مألوفة (مثل تطبيقات البنوك)
- ✅ لا حاجة لتذكر كلمة مرور

**المتطلبات**:

- قاعدة بيانات PostgreSQL
- Resend API key

---

### 5. [Password Reset](./PASSWORD_RESET.md)

**الحالة**: ⚠️ يحتاج Resend API

إعادة تعيين كلمة المرور للمستخدمين الذين نسوها.

**المميزات**:

- ✅ ضروري لتحسين تجربة المستخدم
- ✅ آمن (يستخدم tokens ذات صلاحية محدودة)

**المتطلبات**:

- Email & Password مُفعّل
- قاعدة بيانات PostgreSQL
- Resend API key

---

### 6. [Admin Roles & Permissions](./ADMIN_ROLES.md)

**الحالة**: ✅ مُفعّل

نظام صلاحيات وأدوار متقدم لإدارة المستخدمين.

**المميزات**:

- ✅ نظام أدوار مرن (Admin, User)
- ✅ حظر/إلغاء حظر المستخدمين
- ✅ إدارة كاملة للمستخدمين
- ✅ قابل للتوسع لأدوار مخصصة

**المتطلبات**:

- قاعدة بيانات PostgreSQL
- Better Auth مُفعّل

---

## 🔄 العلاقات بين الطرق

```
┌─────────────────────┐
│  Email & Password   │ ◄─┐
└─────────────────────┘   │
          │               │ يعتمد على
          ├─ Password Reset
          └─ Email Verification (اختياري)

┌─────────────────────┐
│   Google OAuth      │ (مستقل)
└─────────────────────┘

┌─────────────────────┐
│    Magic Link       │ (مستقل)
└─────────────────────┘

┌─────────────────────┐
│    Email OTP        │ (مستقل)
└─────────────────────┘
```

---

## 📊 جدول المقارنة

| الطريقة            | سهولة الاستخدام | الأمان     | يحتاج Email Service | يحتاج Third-party |
| ------------------ | --------------- | ---------- | ------------------- | ----------------- |
| **Email/Password** | ⭐⭐⭐          | ⭐⭐⭐⭐   | ⚠️ للـ verification | ❌ لا             |
| **Google OAuth**   | ⭐⭐⭐⭐⭐      | ⭐⭐⭐⭐⭐ | ❌ لا               | ✅ Google         |
| **Magic Link**     | ⭐⭐⭐⭐        | ⭐⭐⭐⭐   | ✅ نعم              | ❌ لا             |
| **Email OTP**      | ⭐⭐⭐⭐        | ⭐⭐⭐⭐⭐ | ✅ نعم              | ❌ لا             |

---

## 🎯 متى تستخدم كل طريقة؟

### استخدم Email & Password عندما:

- ✅ تريد طريقة تقليدية ومألوفة
- ✅ لا تريد الاعتماد على خدمات خارجية (في البداية)
- ✅ تستهدف جمهور تقني

### استخدم Google OAuth عندما:

- ✅ تريد onboarding سريع
- ✅ تستهدف مستخدمين غير تقنيين
- ✅ تريد تقليل friction في التسجيل

### استخدم Magic Link عندما:

- ✅ التطبيق يُستخدم بشكل غير منتظم
- ✅ تريد تحسين UX
- ✅ الأمان أهم من السرعة

### استخدم Email OTP عندما:

- ✅ تحتاج أمان عالي (مثل تطبيقات مالية)
- ✅ المستخدمون معتادون على OTPs
- ✅ تريد 2FA مدمج

---

## 🚀 البدء السريع

للحصول على نظرة سريعة على ما يعمل الآن، اقرأ:

- [Quick Start Guide](../QUICK_START.md)

لمعرفة كيفية تفعيل/تعطيل كل طريقة:

- [Modular Setup Guide](../guides/MODULAR_SETUP.md) ⭐ **موصى به**

---

## 📚 روابط مفيدة

- [Better Auth Documentation](https://www.better-auth.com)
- [Email Service Setup](../guides/EMAIL_SERVICE.md)
- [Environment Variables](../setup/env.example)
- [Troubleshooting](../troubleshooting/DATABASE_CONNECTION.md)
